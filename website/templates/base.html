<!DOCTYPE html>
<html>
  <head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" crossorigin="anonymous"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css"/>
    <style>
    .profile-img {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
        box-shadow: 0 6px 10px black;
    }
    </style>
	<title>{% block title %}Home{% endblock %}</title>
  </head>
  <body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" >
    	<span class="navbar-toggler-icon"></span>
  	</button>
  	<div class="collapse navbar-collapse" id="navbar">
      	{% if user.is_authenticated %}
        <a class="nav-brand" href="/">
      	    <img src="/static/Icons/Home.png" alt="Home" style="height:40px;" >
        </a>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item Dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbar-Dropdown" role="button" data-toggle="dropdown">
                    <img src="{{user.profile_pic | default('/path/to/default/image.jpeg') }}" alt="Image" class="profile-img">
                </a>
            <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="/profile" >Profile</a>
                <a class="dropdown-item" href="/settings">Settings</a>
                <a class="dropdown-item" href="/logout">Logout</a>
            </div>
            </li>
        </ul>
      	{% else %}
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
      	        <a class="nav-item nav-link" id="login" href="/login">Login</a>
            </li>
            <li class="nav-item">
      	        <a class="nav-item nav-link" id="signUp" href="/sign-up">Sign Up</a>
            </li>
        </ul>
      	{% endif %}
    </div>
	</nav>
    <div class="container">{% block content %} {% endblock %}</div>


	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous" >
    </script>
	<script
  	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous" ></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous" ></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    {% block javascript %}
	<script src="/static/js/map.js"></script>
	{% endblock %}
  </body>
</html>